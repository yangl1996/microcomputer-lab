STACK SEGMENT PARA STACK
	DW 128H DUP(0)
STACK ENDS

DATA SEGMENT

DATA ENDS

CODE SEGMENT
	ASSUME CS:CODE, SS:STACK, DS:DATA
START:
LOOP0:
	MOV DX, 0E498H
	OUT DX, AL			; INIT AD CONVERSION
	MOV AH, 86H
	MOV CX, 010B
	MOV DX, 0
	INT 15H				; WAIT FOR 131.072MS
	MOV DX, 0E498H
	IN AL, DX			; READ RESULT
	MOV AH, AL
	MOV CL, 4
	SHR AH, CL			; GET HIGHER 4 BITS
	MOV CL, AL
	MOV AL, AH
	CALL DISP
	MOV AL, CL
	AND AL, 0FH
	CALL DISP
	MOV AH, 02H
	MOV DL, 0DH
	INT 21H
	MOV DL, 0AH
	INT 21H
	MOV AH, 01H
	INT 16H
	JZ LOOP0
BYE:
	MOV AH, 4CH
	INT 21H

DISP PROC NEAR
	PUSH DX
	AND AL, 0FH
	MOV DL, AL
	CMP DL, 9
	JLE NUM
	ADD DL, 7
NUM:
	ADD DL, 30H
	MOV AH, 02H
	INT 21H
	POP DX
	RET
DISP ENDP

CODE ENDS
END START
