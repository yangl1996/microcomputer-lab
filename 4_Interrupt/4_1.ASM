CODE SEGMENT
	ASSUME CS:CODE
START:
	MOV AL, 10H
	MOV DX, 0E483H
	OUT DX, AL		; SET 8253-0 MODE 0, PREPARE TO LOAD
	MOV DX, 0E480H
	MOV AL, 0FH
	OUT DX, AL

NNN:
	IN AL, DX		; READ 8253 TIMER COUNT
	CALL DISP		; DISPLAY TIMER COUNT
	MOV AH, 1
	INT 16H			; CHECK FOR KEYBOARD INTERRUPT
	JZ NNN
	MOV AH, 4CH
	INT 21H

DISP PROC NEAR
	PUSH DX
	AND AL, 0FH		; LOAD LOWER 4 BITS
	MOV DL, AL
	CMP DL, 9
	JLE NUM
	ADD DL, 7
NUM:
	ADD DL, 30H
	MOV AH, 02H
	INT 21H			; PRINT
	MOV DL, 0DH
	INT 21H
	MOV DL, 0AH
	INT 21H			; PRINT ENDLINE
	POP DX
	RET
DISP ENDP
CODE ENDS
END START
